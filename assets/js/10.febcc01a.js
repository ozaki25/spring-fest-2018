(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{154:function(a,i,t){"use strict";t.r(i);var l=t(0),r=Object(l.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"_500-のサーバーで動くline-ads-platformをささえるspring"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_500-のサーバーで動くline-ads-platformをささえるspring","aria-hidden":"true"}},[a._v("#")]),a._v(" 500+のサーバーで動くLINE Ads PlatformをささえるSpring")]),a._v(" "),t("ul",[t("li",[a._v("渡邉 直樹(LINE株式会社)")])]),a._v(" "),t("iframe",{staticStyle:{border:"1px solid #CCC","border-width":"1px","margin-bottom":"5px","max-width":"100%"},attrs:{src:"//www.slideshare.net/slideshow/embed_code/key/6QRY7mi2NiD4XE",width:"595",height:"485",frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:""}}),a._v(" "),t("div",{staticStyle:{"margin-bottom":"5px"}},[t("strong",[t("a",{attrs:{href:"//www.slideshare.net/linecorp/500-line-ads-platformspring",title:"500+のサーバーで動く LINE Ads PlatformをささえるSpring",target:"_blank"}},[a._v("500+のサーバーで動く LINE Ads PlatformをささえるSpring")])]),a._v(" from "),t("strong",[t("a",{attrs:{href:"https://www.slideshare.net/linecorp",target:"_blank"}},[a._v("LINE Corporation")])])]),a._v(" "),t("h2",{attrs:{id:"lineのads-platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lineのads-platform","aria-hidden":"true"}},[a._v("#")]),a._v(" LINEのAds Platform")]),a._v(" "),t("ul",[t("li",[a._v("LINEの中に出てる広告\n"),t("ul",[t("li",[a._v("LINE NEWSとかLINE Blogとか")])])]),a._v(" "),t("li",[a._v("LINEに広告配信できる唯一のPlatform")]),a._v(" "),t("li",[a._v("MAU7800万人")]),a._v(" "),t("li",[a._v("運用型広告\n"),t("ul",[t("li",[a._v("リアルタイムに予算やターゲットを変更できる")]),a._v(" "),t("li",[a._v("何を表示するかリアルタイムにオークションにかけて選んでる\n"),t("ul",[t("li",[a._v("全て50ms以内にやらないといけない")])])])])]),a._v(" "),t("li",[a._v("Real Time Bidding")]),a._v(" "),t("li",[a._v("関係者のニーズを満たす必要がある\n"),t("ul",[t("li",[a._v("Advertiser\n"),t("ul",[t("li",[a._v("ROI")])])]),a._v(" "),t("li",[a._v("Media\n"),t("ul",[t("li",[a._v("利益")])])]),a._v(" "),t("li",[a._v("Audience\n"),t("ul",[t("li",[a._v("UX")])])])])]),a._v(" "),t("li",[a._v("指標\n"),t("ul",[t("li",[a._v("CTR(Click Through Rate)\n"),t("ul",[t("li",[a._v("簡単な数式")])])]),a._v(" "),t("li",[a._v("CTRを機械学習で事前に予測する")])])])]),a._v(" "),t("h2",{attrs:{id:"spring-in-line-ads-platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-in-line-ads-platform","aria-hidden":"true"}},[a._v("#")]),a._v(" Spring in LINE Ads Platform")]),a._v(" "),t("h3",{attrs:{id:"ssp-supply-side-platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssp-supply-side-platform","aria-hidden":"true"}},[a._v("#")]),a._v(" SSP(Supply Side Platform)")]),a._v(" "),t("ul",[t("li",[a._v("メディア側の情報を管理するプラットフォーム\n"),t("ul",[t("li",[a._v("Real Time Bidding\n"),t("ul",[t("li",[a._v("リアルタイムにオークションする")])])])])]),a._v(" "),t("li",[a._v("Spring Boot2")]),a._v(" "),t("li",[a._v("CMS側はサーバがKotlinクライアントがNuxt")])]),a._v(" "),t("h3",{attrs:{id:"dsp-demand-side-platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsp-demand-side-platform","aria-hidden":"true"}},[a._v("#")]),a._v(" DSP(Demand Side Platform)")]),a._v(" "),t("ul",[t("li",[a._v("ROIが最大化する広告を選ぶ役割")]),a._v(" "),t("li",[a._v("50ms以内に返さないと広告が表示されない")]),a._v(" "),t("li",[a._v("Goで作ってる\n"),t("ul",[t("li",[a._v("50ms満たすため")])])]),a._v(" "),t("li",[a._v("G1GCでも数十msかかることある")]),a._v(" "),t("li",[a._v("CMS側はサーバがSpringBootクライアントがReact")])]),a._v(" "),t("h3",{attrs:{id:"データの持ち方"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#データの持ち方","aria-hidden":"true"}},[a._v("#")]),a._v(" データの持ち方")]),a._v(" "),t("ul",[t("li",[a._v("広告情報をMySQLに入れてる\n"),t("ul",[t("li",[a._v("毎回取りに行くと50msこえちゃう")]),a._v(" "),t("li",[a._v("基本はメモリに乗せておく\n"),t("ul",[t("li",[a._v("乗らないようなものはRedis")])])])])])]),a._v(" "),t("h3",{attrs:{id:"dmp-data-management-platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dmp-data-management-platform","aria-hidden":"true"}},[a._v("#")]),a._v(" DMP(Data Management Platform)")]),a._v(" "),t("ul",[t("li",[a._v("広告配信する対象を管理する")]),a._v(" "),t("li",[a._v("広告を出す相手の情報があるとより効果的な広告を選べる")]),a._v(" "),t("li",[a._v("Look-a-like\n"),t("ul",[t("li",[a._v("似ているユーザの行動をもとに広告を出す")])])]),a._v(" "),t("li",[a._v("技術\n"),t("ul",[t("li",[a._v("SpringBoot")]),a._v(" "),t("li",[a._v("Kafka")]),a._v(" "),t("li",[a._v("HBase")]),a._v(" "),t("li",[a._v("Redis")])])]),a._v(" "),t("li",[a._v("ユーザの操作の度にイベントを飛ばしてそれを受けたらKafkaに書き込む")])]),a._v(" "),t("h3",{attrs:{id:"data-pipeline-analytics-cluster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-pipeline-analytics-cluster","aria-hidden":"true"}},[a._v("#")]),a._v(" Data Pipeline/Analytics Cluster")]),a._v(" "),t("ul",[t("li",[a._v("広告配信に関わるデータを収集し格納するプラットフォーム")]),a._v(" "),t("li",[a._v("hadoopクラスタ")]),a._v(" "),t("li",[a._v("Erasticsearch, kibana")])]),a._v(" "),t("h2",{attrs:{id:"lineの技術トレンド"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lineの技術トレンド","aria-hidden":"true"}},[a._v("#")]),a._v(" LINEの技術トレンド")]),a._v(" "),t("h3",{attrs:{id:"kafka"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafka","aria-hidden":"true"}},[a._v("#")]),a._v(" Kafka")]),a._v(" "),t("ul",[t("li",[a._v("高速で安定したStreaming Platform")]),a._v(" "),t("li",[a._v("queueやjob schedulerとしても利用")]),a._v(" "),t("li",[a._v("各サービスはKafkaに書き込むまでが責務")]),a._v(" "),t("li",[a._v("一度書き込んでおけば誰でも取れる")]),a._v(" "),t("li",[a._v("spring-kafkaあるけど公式のkafka_clientおすすめ\n"),t("ul",[t("li",[a._v("springの方は自由にバージョン変えられない")])])])]),a._v(" "),t("h3",{attrs:{id:"springboot2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot2","aria-hidden":"true"}},[a._v("#")]),a._v(" SpringBoot2")]),a._v(" "),t("ul",[t("li",[a._v("Reactor\n"),t("ul",[t("li",[a._v("Reactive Streams")]),a._v(" "),t("li",[a._v("Non-blocking")]),a._v(" "),t("li",[a._v("back pressure\n"),t("ul",[t("li",[a._v("Kafka使ってるからあんまり使ってない")])])]),a._v(" "),t("li",[a._v("Lettuce5\n"),t("ul",[t("li",[a._v("Reactive API")])])])])]),a._v(" "),t("li",[a._v("kafka")]),a._v(" "),t("li",[a._v("actuator + micrometer\n"),t("ul",[t("li",[a._v("使いやすい")]),a._v(" "),t("li",[a._v("それまではprometeusにデータ入れてGrafanaで見てた")])])])]),a._v(" "),t("h2",{attrs:{id:"lineの開発体制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lineの開発体制","aria-hidden":"true"}},[a._v("#")]),a._v(" LINEの開発体制")]),a._v(" "),t("ul",[t("li",[a._v("データ\n"),t("ul",[t("li",[a._v("2 Country\n"),t("ul",[t("li",[a._v("日本と韓国")])])]),a._v(" "),t("li",[a._v("60 Developer")]),a._v(" "),t("li",[a._v("100 Co-worker")])])]),a._v(" "),t("li",[a._v("コミュニケーション\n"),t("ul",[t("li",[a._v("通訳挟んでTV会議")]),a._v(" "),t("li",[a._v("翻訳bot入れてLINEで")]),a._v(" "),t("li",[a._v("気軽に出張も")])])])]),a._v(" "),t("h2",{attrs:{id:"今後"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#今後","aria-hidden":"true"}},[a._v("#")]),a._v(" 今後")]),a._v(" "),t("ul",[t("li",[a._v("機械学習とか")]),a._v(" "),t("li",[a._v("ARとか")])])])}],!1,null,null,null);r.options.__file="page15.md";i.default=r.exports}}]);