<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Data RESTとSpring Cloud Contract | Spring Fest 2018</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/spring-fest-2018/assets/css/styles.09634a89.css" as="style"><link rel="preload" href="/spring-fest-2018/assets/js/app.09634a89.js" as="script"><link rel="preload" href="/spring-fest-2018/assets/js/16.3e425ef2.js" as="script"><link rel="prefetch" href="/spring-fest-2018/assets/css/1.styles.8eb308c1.css"><link rel="prefetch" href="/spring-fest-2018/assets/css/2.styles.a2bd3099.css"><link rel="prefetch" href="/spring-fest-2018/assets/js/1.8eb308c1.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/10.febcc01a.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/11.1cd7b66f.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/12.1f19ecf6.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/13.8b9c0905.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/14.c645b9f5.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/15.38065252.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/17.fae3e6e8.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/18.ffb2b096.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/19.790c48e6.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/2.a2bd3099.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/20.c2857ee8.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/21.1daad431.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/22.87665903.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/23.93c086fc.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/24.51308b9b.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/25.4266236e.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/26.99ce27f6.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/27.9ac45d54.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/3.9378e134.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/4.5c19490d.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/5.ca23a0c0.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/6.d229d9ff.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/7.cdcc80d9.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/8.eac14a68.js"><link rel="prefetch" href="/spring-fest-2018/assets/js/9.5d5663db.js">
    <link rel="stylesheet" href="/spring-fest-2018/assets/css/1.styles.8eb308c1.css"><link rel="stylesheet" href="/spring-fest-2018/assets/css/2.styles.a2bd3099.css"><link rel="stylesheet" href="/spring-fest-2018/assets/css/styles.09634a89.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/spring-fest-2018/" class="home-link router-link-active"><!----> <span class="site-name">Spring Fest 2018</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>10:00〜10:45</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>11:00〜11:45</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>13:15〜14:00</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>14:15〜15:00</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>15:30〜16:15</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>16:30〜17:15</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/spring-fest-2018/page18.html" class="sidebar-link">Spring Boot with Kotlin, functional configuration and GraalVM</a></li><li><a href="/spring-fest-2018/page19.html" class="sidebar-link">⼤規模⾦融系SaaSを⽀えるSpring〜活⽤の変遷と新時代のアーキテクチャ〜</a></li><li><a href="/spring-fest-2018/page20.html" class="active sidebar-link">Spring Data RESTとSpring Cloud Contract</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring-fest-2018/page20.html#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/spring-fest-2018/page20.html#spring-data-rest" class="sidebar-link">Spring Data REST</a></li><li class="sidebar-sub-header"><a href="/spring-fest-2018/page20.html#spring-cloud-contruct" class="sidebar-link">Spring Cloud Contruct</a></li><li class="sidebar-sub-header"><a href="/spring-fest-2018/page20.html#まとめ-2" class="sidebar-link">まとめ</a></li></ul></li><li><a href="/spring-fest-2018/page21.html" class="sidebar-link">Spring BootでHello Worldのその先へ〜ウェブDBプレスのSpring Boot特集で伝えたかったこと＆伝えきれなかったこと～</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>17:30〜18:15</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="spring-data-restとspring-cloud-contract"><a href="#spring-data-restとspring-cloud-contract" aria-hidden="true" class="header-anchor">#</a> Spring Data RESTとSpring Cloud Contract</h1> <ul><li>⼩川 岳史/⼭﨑 ⼤(株式会社タグバンガーズ)</li></ul> <iframe src="//www.slideshare.net/slideshow/embed_code/key/9Ssw91cdXeabov" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" allowfullscreen="allowfullscreen" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;"></iframe> <div style="margin-bottom:5px"><strong><a href="//www.slideshare.net/OgawaTakeshi/spring-datarestandspringcloudcontract" title="Spring data-rest-and-spring-cloud-contract" target="_blank">Spring data-rest-and-spring-cloud-contract</a></strong> from <strong><a href="https://www.slideshare.net/OgawaTakeshi" target="_blank">Ogawa Takeshi</a></strong></div> <iframe src="https://hatenablog-parts.com/embed?url=http%3A%2F%2Fblog.tagbangers.co.jp%2Fja%2F2018%2F11%2F03%2Fspring-cloud-contract-and-pact" title="Spring Cloud Contract の Pact 対応 | Tagbangers Blog" scrolling="no" frameborder="0" class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe> <h2 id="背景"><a href="#背景" aria-hidden="true" class="header-anchor">#</a> 背景</h2> <ul><li>SPAが増えてきてフロントエンドとAPIの開発が別チームに分かれるようになってきた
<ul><li>リポジトリも別チームも別</li></ul></li> <li>API設計の認識齟齬やコミュニケーションコストが増えてきてしまっている
<ul><li>Spring Data RESTとSpring Cloud Contructで解決する</li></ul></li></ul> <h2 id="spring-data-rest"><a href="#spring-data-rest" aria-hidden="true" class="header-anchor">#</a> Spring Data REST</h2> <h3 id="概要"><a href="#概要" aria-hidden="true" class="header-anchor">#</a> 概要</h3> <ul><li>自動的にREST APIのエンドポイントを作ってくれる
<ul><li>開発者はEntityとRepositryを作るだけで</li></ul></li> <li>レスポンスのデータにはエンドポイントのURLであるlink部も含まれる</li> <li>HATEOAS
<ul><li>リクエスト・レスポンスのフォーマットルール</li> <li>Spring Data RESTはこの基準に準拠</li></ul></li> <li>Spring Data RESTに乗っかればフォーマットに悩まなくてよくなる</li></ul> <h3 id="実践では"><a href="#実践では" aria-hidden="true" class="header-anchor">#</a> 実践では</h3> <ul><li>自動で生成されるのは基本的なCRUDだけ</li> <li>ビジネスロジックが必要な場合は拡張する</li></ul> <h3 id="まとめ"><a href="#まとめ" aria-hidden="true" class="header-anchor">#</a> まとめ</h3> <ul><li>Spring Data REST使えばボイラープレートを減らせる</li> <li>ルールに乗っかることで本質的なポイントに時間を費やせる</li></ul> <h2 id="spring-cloud-contruct"><a href="#spring-cloud-contruct" aria-hidden="true" class="header-anchor">#</a> Spring Cloud Contruct</h2> <ul><li>SPAやマイクロサービスでテストする時APIはモック化する
<ul><li>そのモック本当に正しいの？</li></ul></li> <li>Consumer: API利用者</li> <li>Provider: API提供者</li></ul> <h3 id="spring-cloud-contruct-pactでconsumer-driven-contruct"><a href="#spring-cloud-contruct-pactでconsumer-driven-contruct" aria-hidden="true" class="header-anchor">#</a> Spring Cloud Contruct + PactでConsumer Driven Contruct</h3> <ul><li>Consumerがテストを書く
<ul><li>その過程でPactファイルを作成</li></ul></li> <li>ProviderはそのPactファイルを使ってテストする
<ul><li>Consumerが期待するAPIと違っていればエラーになって気づける</li></ul></li></ul> <h2 id="まとめ-2"><a href="#まとめ-2" aria-hidden="true" class="header-anchor">#</a> まとめ</h2> <ul><li>API利用者と提供者の壁をSpringを使って解消できる</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/spring-fest-2018/page19.html" class="prev">
          ⼤規模⾦融系SaaSを⽀えるSpring〜活⽤の変遷と新時代のアーキテクチャ〜
        </a></span> <span class="next"><a href="/spring-fest-2018/page21.html">
          Spring BootでHello Worldのその先へ〜ウェブDBプレスのSpring Boot特集で伝えたかったこと＆伝えきれなかったこと～
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/spring-fest-2018/assets/js/16.3e425ef2.js" defer></script><script src="/spring-fest-2018/assets/js/app.09634a89.js" defer></script>
  </body>
</html>
